!function(){"use strict";var t={5695:function(t,e,n){n(1539),n(9714),n(4747),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(489),n(8309),n(8304),n(7042);var r=n(5503),o=n(7988),i=n(1591),a=(0,r.ZF)({apiKey:"AIzaSyC_4Ep2bWMPP_PFnjQ2JTUpxaVbMg3duiQ",authDomain:"rps-sim.firebaseapp.com",projectId:"rps-sim",storageBucket:"rps-sim.appspot.com",messagingSenderId:"259672221012",appId:"1:259672221012:web:e11a4acaf14eb3004794c1",measurementId:"G-F4QGQ6NQRK"}),c=((0,o.IH)(a),(0,i.ad)(a));function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function define(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,n){return t[e]=n}}function wrap(t,e,n,r){var o=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return doneResult()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=maybeInvokeDelegate(a,n);if(u){if(u===c)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=tryCatch(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function tryCatch(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap;var c={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var u={};define(u,o,function(){return this});var s=Object.getPrototypeOf,h=s&&s(s(values([])));h&&h!==e&&n.call(h,o)&&(u=h);var l=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(u);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){var r;this._invoke=function(o,i){function callInvokeWithMethodAndArg(){return new e(function(r,a){!function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==_typeof(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}(o,i,r,a)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,maybeInvokeDelegate(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=tryCatch(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function next(){for(;++r<t.length;)if(n.call(t,r))return next.value=t[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(l,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,a,"GeneratorFunction")),t.prototype=Object.create(l),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,function(){return this}),t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(l),define(l,a,"Generator"),define(l,o,function(){return this}),define(l,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function next(){for(;e.length;){var n=e.pop();if(n in t)return next.value=n,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var e=this;function handle(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),c}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,e,n){return this.delegate={iterator:values(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function asyncGeneratorStep(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var u,s=10,h=10,l={ROCK:"ðŸª¨",PAPER:"ðŸ§»",SCISSORS:"âœ‚ï¸"},f={0:"up",1:"down",2:"right",3:"left"},d=[],p=document.getElementById("canvas"),y=p.getContext("2d"),v=document.getElementById("rock-score"),m=document.getElementById("paper-score"),_=document.getElementById("scissors-score"),g=document.getElementById("rock-total"),w=document.getElementById("paper-total"),b=document.getElementById("scissors-total"),k=document.getElementById("total-sims"),S=document.getElementById("last-sim"),C=document.querySelector(".btn-start"),x=document.querySelector(".btn-pause"),E=document.querySelector(".btn-newsim"),R=document.getElementById("count"),I=document.getElementById("speed");R.value=5..toString(),I.value=10..toString(),x.disabled=!0,p.width=300,p.height=300,(0,i.cf)((0,i.JU)(c,"sim","score"),function(t){g.textContent=t.data().rock,w.textContent=t.data().paper,b.textContent=t.data().scissors,k.textContent=t.data().totalSims,S.textContent=t.data().timestamp.toDate().toLocaleTimeString("ru-RU")});var P=(0,i.JU)(c,"sim","score"),O=function(){var t=function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function _next(t){asyncGeneratorStep(i,r,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(i,r,o,_next,_throw,"throw",t)}_next(void 0)})}}(_regeneratorRuntime().mark(function _callee(t,e){var n;return _regeneratorRuntime().wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.r7)(P,(_defineProperty(n={},t,e),_defineProperty(n,"totalSims",+k.textContent+1),_defineProperty(n,"timestamp",(0,i.Bt)()),n));case 2:case"end":return r.stop()}},_callee)}));return function updateFS(e,n){return t.apply(this,arguments)}}(),L=function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t},F=function getFloorCoordinateX(){return 10*Math.floor(L(0,300)/10)},G=function getFloorCoordinateY(){return 10*Math.floor(L(0,300)/10)},A=function clearCanvas(){y.clearRect(0,0,p.height,p.width)},q=function resetButtons(){C.disabled=!0,x.disabled=!0,R.disabled=!1,I.disabled=!1},j=function changeScore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t){case"ROCK":v.textContent=(+v.textContent+1).toString();break;case"PAPER":m.textContent=(+m.textContent+1).toString();break;case"SCISSORS":_.textContent=(+_.textContent+1).toString()}switch(e){case"ROCK":v.textContent=(+v.textContent-1).toString();break;case"PAPER":m.textContent=(+m.textContent-1).toString();break;case"SCISSORS":_.textContent=(+_.textContent-1).toString()}},T=function placeFigures(){if(d.length<1){for(var t=0;t<+R.value;t++)d.push(new X("ROCK",F(),G())),d.push(new X("PAPER",F(),G())),d.push(new X("SCISSORS",F(),G())),j("ROCK"),j("PAPER"),j("SCISSORS");d.forEach(function(t){t.render()})}},Y=function pause(){clearInterval(u),I.disabled=!1,C.disabled=!1,x.disabled=!0};C.addEventListener("click",function start(){T(),R.disabled=!0,I.disabled=!0,u=window.setInterval(function(){A(),d.forEach(function(t){var e=L(0,3);t.checkCollision(),t.move(f[e]),t.render()}),function checkSimOver(){var t=3*+R.value,e=+v.textContent,n=+m.textContent,r=+_.textContent;e===t&&(clearInterval(u),O("rock",+g.textContent+1),q(),alert("Sim over, ROCK WIN!")),n===t&&(clearInterval(u),O("paper",+w.textContent+1),q(),alert("Sim over, PAPER WIN!")),r===t&&(clearInterval(u),O("scissors",+b.textContent+1),q(),alert("Sim over, SCISSORS WIN!"))}()},1e3/+I.value),C.disabled=!0,x.disabled=!1}),x.addEventListener("click",Y),E.addEventListener("click",function newSim(){Y(),A(),d=[],function resetScore(){v.textContent="0",m.textContent="0",_.textContent="0"}(),R.disabled=!1,T()});var X=function(){function Figure(t,e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Figure),this.width=s,this.height=h,this.type=t,this.coordinateX=e,this.coordinateY=n,this.newCoordinateX=this.coordinateX,this.newCoordinateY=this.coordinateY}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(Figure,[{key:"render",value:function render(){y.fillText(l[this.type],this.coordinateX,this.coordinateY,this.width)}},{key:"clear",value:function clear(){y.clearRect(this.coordinateX,this.coordinateY,this.width,this.height)}},{key:"move",value:function move(t){switch(t){case"up":this.moveUp();break;case"down":this.moveDown();break;case"right":this.moveRight();break;case"left":this.moveLeft()}}},{key:"checkCollision",value:function checkCollision(){var t=this;d.forEach(function(e){t.checkCollisionWithFigure(e)&&t.compareTypes(e)})}},{key:"checkCollisionWithFigure",value:function checkCollisionWithFigure(t){return this.newCoordinateX<t.coordinateX+t.width&&this.newCoordinateX+this.width>t.coordinateX&&this.newCoordinateY<t.coordinateY+t.height&&this.newCoordinateY+this.height>t.coordinateY}},{key:"compareTypes",value:function compareTypes(t){return"ROCK"===this.type&&"SCISSORS"===t.type||"SCISSORS"===this.type&&"ROCK"===t.type?(this.type=t.type="ROCK",void j("ROCK","SCISSORS")):"ROCK"===this.type&&"PAPER"===t.type||"PAPER"===this.type&&"ROCK"===t.type?(this.type=t.type="PAPER",void j("PAPER","ROCK")):"PAPER"===this.type&&"SCISSORS"===t.type||"SCISSORS"===this.type&&"PAPER"===t.type?(this.type=t.type="SCISSORS",void j("SCISSORS","PAPER")):void 0}},{key:"moveUp",value:function moveUp(){this.checkUp()&&(this.newCoordinateY=this.coordinateY-this.height,this.coordinateY-=this.width)}},{key:"moveDown",value:function moveDown(){this.checkDown()&&(this.newCoordinateY=this.coordinateY+this.height,this.coordinateY+=this.height)}},{key:"moveRight",value:function moveRight(){this.checkRight()&&(this.newCoordinateX=this.coordinateX+this.width,this.coordinateX+=this.width)}},{key:"moveLeft",value:function moveLeft(){this.checkLeft()&&(this.newCoordinateX=this.coordinateX-this.width,this.coordinateX-=this.width)}},{key:"checkUp",value:function checkUp(){return this.coordinateY-this.width>0}},{key:"checkDown",value:function checkDown(){return this.coordinateY+this.height<=300}},{key:"checkRight",value:function checkRight(){return this.coordinateX+this.width<300}},{key:"checkLeft",value:function checkLeft(){return this.coordinateX-this.width>=0}}]),Figure}();T()}},e={};function __webpack_require__(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,__webpack_require__),o.exports}__webpack_require__.m=t,function(){var t=[];__webpack_require__.O=function(e,n,r,o){if(!n){var i=1/0;for(s=0;s<t.length;s++){n=t[s][0],r=t[s][1],o=t[s][2];for(var a=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(__webpack_require__.O).every(function(t){return __webpack_require__.O[t](n[c])})?n.splice(c--,1):(a=!1,o<i&&(i=o));if(a){t.splice(s--,1);var u=r();void 0!==u&&(e=u)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[n,r,o]}}(),__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={143:0};__webpack_require__.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,i=n[0],a=n[1],c=n[2],u=0;if(i.some(function(e){return 0!==t[e]})){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(c)var s=c(__webpack_require__)}for(e&&e(n);u<i.length;u++)o=i[u],__webpack_require__.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return __webpack_require__.O(s)},n=self.webpackChunkrps_sim=self.webpackChunkrps_sim||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=__webpack_require__.O(void 0,[736],function(){return __webpack_require__(5695)});n=__webpack_require__.O(n)}();